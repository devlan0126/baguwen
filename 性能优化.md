## 目录

前端性能优化可以分为三个level：静态资源优化、接口访问优化、页面渲染速度优化

### 静态资源优化

减少静态资源的加载时间，主要包括html、css、js和图片文件，静态资源的加载时间是前端性能最大的瓶颈（特别是图片），现如今优化的手段也很丰富，以下简要列举几种常用的方法
1. 合并css、js文件，制作雪碧图：减少http的请求次数，节省网络请求时间
2. 静态资源cdn分发：客户端可以通过最佳的网络链路加载静态资源
3. js、css文件压缩，图片压缩，gzip压缩：减少请求返回的数据量
4. 静态资源缓存机制
5. 权衡dns的查找

### 接口访问优化
1. 减少HTTP请求，压缩精简脚本代码
2. 一个页面依赖的众多业务接口和第三方接口统一使用一个部署在集群中的接口调用，减少页面接口请求数
3. 接口缓存策略优化
    * ajax/fetch 缓存：请求时带上 cache，依赖浏览器本身缓存机制
    * 本地缓存：异步接口数据优先使用本地 localStorage 中的缓存数据
    * 多次请求：接口数据本地无缓存数据，重新再次发出 ajax 请求

### 页面渲染速度优化

1. 合理放置脚本位置 css放在顶部：优先渲染，js放在底部：避免阻塞
2. 减少DOM元素数量：这个最能体现变成水平了
3. img标签要设置高宽：减少重绘重排
4. 虚拟长列表渲染:有效的设计思路是，永远只渲染当前用户可见，以及其前后的几个元素。监听滑动事件 (scroll event)，在滑动的时候调整当前窗口的可见元素，并渲染出来。这样可以大大节约插入和移除大量 DOM 元素的时间，可以大大加快初次渲染时间，而且渲染时间不随着数据量增加而增加。
5. 图片懒加载:避免页面打开时加载过多的资源
6. 使用事件委托:能大大的减少与dom的交互次数，提高性能
7. 无阻塞加载JavaScript脚本：
    * 使用\<script>标签的defer属性。
    * 使用HTML5的async属性。
    * 动态创建\<script>元素加载JavaScript。
    * 使用XHR对象加载JavaScript。